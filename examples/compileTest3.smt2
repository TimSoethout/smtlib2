(declare-datatypes () (  ( InterestParams (consInterestParams  (toState Int)) (noInterestParams) ) ))
(declare-datatypes () (  ( DepositParams (consDepositParams  (amount Int) (toState Int)) (noDepositParams) ) ))
(declare-datatypes () (  ( ArchiveParams (consArchiveParams  (toState Int)) (noArchiveParams) ) ))
(declare-datatypes () (  ( OpenAccountParams (consOpenAccountParams  (minimalDeposit Int) (accountNr Int) (initialDeposit Int) (toState Int)) (noOpenAccountParams) ) ))
(declare-datatypes () (  ( WithdrawParams (consWithdrawParams  (amount Int) (toState Int)) (noWithdrawParams) ) ))
(declare-datatypes () (  ( BlockParams (consBlockParams  (toState Int)) (noBlockParams) ) ))
(declare-datatypes () (  ( CloseParams (consCloseParams  (toState Int)) (noCloseParams) ) ))
(declare-datatypes () (  ( UnblockParams (consUnblockParams  (toState Int)) (noUnblockParams) ) ))
(declare-datatypes () (  ( FixedTermSavingsAccount (consFixedTermSavingsAccount  (accountNumber Int) (balance Int) (step Int) (state Int)) (noFixedTermSavingsAccount) ) ))
(declare-datatypes () (  ( State (consState  (fixedTermSavingsAccount FixedTermSavingsAccount) (interestParams InterestParams) (depositParams DepositParams) (archiveParams ArchiveParams) (openAccountParams OpenAccountParams) (withdrawParams WithdrawParams) (blockParams BlockParams) (closeParams CloseParams) (unblockParams UnblockParams)) ) ))

(define-fun interest ( (current State) (next State)) Bool (and (and (and (and (and (and (and (= (state (fixedTermSavingsAccount current)) 2) (= (toState (interestParams next)) 2)) (not (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNumber (fixedTermSavingsAccount current)))) (= (balance (fixedTermSavingsAccount next)) (balance (fixedTermSavingsAccount current)))) (= (step (fixedTermSavingsAccount next)) 2)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (interestParams next)))))
(define-fun deposit ( (current State) (next State)) Bool (and (and (and (and (and (and (and (and (> (amount (depositParams next)) 0) (< (amount (depositParams next)) 101)) (and (= (state (fixedTermSavingsAccount current)) 2) (= (toState (depositParams next)) 2))) (not (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount))) (= (balance (fixedTermSavingsAccount next)) (+ (balance (fixedTermSavingsAccount current)) (amount (depositParams next))))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNumber (fixedTermSavingsAccount current)))) (= (step (fixedTermSavingsAccount next)) 1)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (depositParams next)))))
(define-fun archive ( (current State) (next State)) Bool (and (and (and (and (and (and (and (= (state (fixedTermSavingsAccount current)) 4) (= (toState (archiveParams next)) 5)) (not (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNumber (fixedTermSavingsAccount current)))) (= (balance (fixedTermSavingsAccount next)) (balance (fixedTermSavingsAccount current)))) (= (step (fixedTermSavingsAccount next)) 8)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (archiveParams next)))))
(define-fun openAccount ( (current State) (next State)) Bool (and (and (and (and (and (and (and (and (and (and (= (minimalDeposit (openAccountParams next)) 50) (>= (initialDeposit (openAccountParams next)) (minimalDeposit (openAccountParams next)))) (> (accountNr (openAccountParams next)) 0)) (< (initialDeposit (openAccountParams next)) 100)) (= (toState (openAccountParams next)) 2)) (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount)) (= (balance (fixedTermSavingsAccount next)) (initialDeposit (openAccountParams next)))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNr (openAccountParams next)))) (= (step (fixedTermSavingsAccount next)) 3)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (openAccountParams next)))))
(define-fun withdraw ( (current State) (next State)) Bool (and (and (and (and (and (and (and (and (>= (balance (fixedTermSavingsAccount current)) (amount (withdrawParams next))) (> (amount (withdrawParams next)) 0)) (and (= (state (fixedTermSavingsAccount current)) 2) (= (toState (withdrawParams next)) 2))) (not (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount))) (= (balance (fixedTermSavingsAccount next)) (- (balance (fixedTermSavingsAccount current)) (amount (withdrawParams next))))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNumber (fixedTermSavingsAccount current)))) (= (step (fixedTermSavingsAccount next)) 5)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (withdrawParams next)))))
(define-fun block ( (current State) (next State)) Bool (and (and (and (and (and (and (and (= (state (fixedTermSavingsAccount current)) 2) (= (toState (blockParams next)) 3)) (not (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNumber (fixedTermSavingsAccount current)))) (= (balance (fixedTermSavingsAccount next)) (balance (fixedTermSavingsAccount current)))) (= (step (fixedTermSavingsAccount next)) 7)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (blockParams next)))))
(define-fun close ( (current State) (next State)) Bool (and (and (and (and (and (and (and (= (balance (fixedTermSavingsAccount current)) 0) (and (= (state (fixedTermSavingsAccount current)) 2) (= (toState (closeParams next)) 4))) (not (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNumber (fixedTermSavingsAccount current)))) (= (balance (fixedTermSavingsAccount next)) (balance (fixedTermSavingsAccount current)))) (= (step (fixedTermSavingsAccount next)) 6)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (closeParams next)))))
(define-fun unblock ( (current State) (next State)) Bool (and (and (and (and (and (and (and (= (state (fixedTermSavingsAccount current)) 3) (= (toState (unblockParams next)) 2)) (not (= (fixedTermSavingsAccount current) noFixedTermSavingsAccount))) (= (accountNumber (fixedTermSavingsAccount next)) (accountNumber (fixedTermSavingsAccount current)))) (= (balance (fixedTermSavingsAccount next)) (balance (fixedTermSavingsAccount current)))) (= (step (fixedTermSavingsAccount next)) 4)) (not (= (fixedTermSavingsAccount next) noFixedTermSavingsAccount))) (= (state (fixedTermSavingsAccount next)) (toState (unblockParams next)))))
(define-fun belowThousand ( (state State)) Bool (<= (balance (fixedTermSavingsAccount state)) 1500))
(define-fun positiveBalance ( (state State)) Bool (>= (balance (fixedTermSavingsAccount state)) 0))
(define-fun initial ( (state State)) Bool (and (and (and (and (and (and (and (and (= (fixedTermSavingsAccount state) noFixedTermSavingsAccount) (= (interestParams state) noInterestParams)) (= (depositParams state) noDepositParams)) (= (archiveParams state) noArchiveParams)) (= (openAccountParams state) noOpenAccountParams)) (= (withdrawParams state) noWithdrawParams)) (= (blockParams state) noBlockParams)) (= (closeParams state) noCloseParams)) (= (unblockParams state) noUnblockParams)))
(define-fun transitionCondition ( (current State) (next State)) Bool (or (or (or (or (or (or (or (and (and (and (and (and (and (and (and (interest  current next) (not (= (interestParams next) noInterestParams))) (= (depositParams next) noDepositParams)) (= (archiveParams next) noArchiveParams)) (= (openAccountParams next) noOpenAccountParams)) (= (withdrawParams next) noWithdrawParams)) (= (blockParams next) noBlockParams)) (= (closeParams next) noCloseParams)) (= (unblockParams next) noUnblockParams)) (and (and (and (and (and (and (and (and (deposit  current next) (= (interestParams next) noInterestParams)) (not (= (depositParams next) noDepositParams))) (= (archiveParams next) noArchiveParams)) (= (openAccountParams next) noOpenAccountParams)) (= (withdrawParams next) noWithdrawParams)) (= (blockParams next) noBlockParams)) (= (closeParams next) noCloseParams)) (= (unblockParams next) noUnblockParams))) (and (and (and (and (and (and (and (and (archive  current next) (= (interestParams next) noInterestParams)) (= (depositParams next) noDepositParams)) (not (= (archiveParams next) noArchiveParams))) (= (openAccountParams next) noOpenAccountParams)) (= (withdrawParams next) noWithdrawParams)) (= (blockParams next) noBlockParams)) (= (closeParams next) noCloseParams)) (= (unblockParams next) noUnblockParams))) (and (and (and (and (and (and (and (and (openAccount  current next) (= (interestParams next) noInterestParams)) (= (depositParams next) noDepositParams)) (= (archiveParams next) noArchiveParams)) (not (= (openAccountParams next) noOpenAccountParams))) (= (withdrawParams next) noWithdrawParams)) (= (blockParams next) noBlockParams)) (= (closeParams next) noCloseParams)) (= (unblockParams next) noUnblockParams))) (and (and (and (and (and (and (and (and (withdraw  current next) (= (interestParams next) noInterestParams)) (= (depositParams next) noDepositParams)) (= (archiveParams next) noArchiveParams)) (= (openAccountParams next) noOpenAccountParams)) (not (= (withdrawParams next) noWithdrawParams))) (= (blockParams next) noBlockParams)) (= (closeParams next) noCloseParams)) (= (unblockParams next) noUnblockParams))) (and (and (and (and (and (and (and (and (block  current next) (= (interestParams next) noInterestParams)) (= (depositParams next) noDepositParams)) (= (archiveParams next) noArchiveParams)) (= (openAccountParams next) noOpenAccountParams)) (= (withdrawParams next) noWithdrawParams)) (not (= (blockParams next) noBlockParams))) (= (closeParams next) noCloseParams)) (= (unblockParams next) noUnblockParams))) (and (and (and (and (and (and (and (and (close  current next) (= (interestParams next) noInterestParams)) (= (depositParams next) noDepositParams)) (= (archiveParams next) noArchiveParams)) (= (openAccountParams next) noOpenAccountParams)) (= (withdrawParams next) noWithdrawParams)) (= (blockParams next) noBlockParams)) (not (= (closeParams next) noCloseParams))) (= (unblockParams next) noUnblockParams))) (and (and (and (and (and (and (and (and (unblock  current next) (= (interestParams next) noInterestParams)) (= (depositParams next) noDepositParams)) (= (archiveParams next) noArchiveParams)) (= (openAccountParams next) noOpenAccountParams)) (= (withdrawParams next) noWithdrawParams)) (= (blockParams next) noBlockParams)) (= (closeParams next) noCloseParams)) (not (= (unblockParams next) noUnblockParams)))))
(define-fun errorCondition ( (state State)) Bool (or (not (belowThousand  state)) (not (positiveBalance  state))))

(push 1)

(assert (exists ((s1 State) (s2 State))
	(and (not (errorCondition s1)) (transitionCondition s1 s2) (errorCondition s2))
))

(check-sat)
(get-model)

(pop 1)

